'use strict';function ajaxMonkeyPatch(a,b){function c(g){var h=a.atob(g),j=h.replace(/(.)/g,function(k,l){var n=l.charCodeAt(0).toString(16).toUpperCase();return 2>n.length&&(n='0'+n),'%'+n});return a.decodeURIComponent(j)}if(a.XMLHttpRequest&&a.atob&&a.decodeURIComponent&&a.JSON&&a.location&&a.location.origin&&Object.defineProperty){try{b=a.JSON.parse(c(b))}catch(g){return}a.pcCachedResponses=b;var d=a.XMLHttpRequest.prototype.addEventListener;a.XMLHttpRequest.prototype.addEventListener=function(g){return this._precloudListeners||(this._precloudListeners={}),this._precloudListeners[g]=!0,d.apply(this,arguments)};var e=a.XMLHttpRequest.prototype.open;a.XMLHttpRequest.prototype.open=function(g,h){return this._precloudurl=h,this._precloudurl&&'/'===this._precloudurl.substr(0,1)&&(this._precloudurl=a.location.origin+this._precloudurl),e.apply(this,arguments)};var f=a.XMLHttpRequest.prototype.send;a.XMLHttpRequest.prototype.send=function(){if(b[this._precloudurl]){var g=b[this._precloudurl];delete b[this._precloudurl],Object.defineProperty(this,'response',{get:function get(){return g}}),Object.defineProperty(this,'responseText',{get:function get(){return g}}),Object.defineProperty(this,'readyState',{get:function get(){return 4}}),Object.defineProperty(this,'status',{get:function get(){return 200}}),Object.defineProperty(this,'statusText',{get:function get(){return 200}});var h=['readystatechange','load'];for(var j=0;j<h.length;j++){var k=h[j];if(this._precloudListeners&&this._precloudListeners[k]){var l=document.createEvent('Event');l.initEvent(k,!0,!0),this.dispatchEvent(l)}else{var n=this['on'+k];n&&n()}}}else return f.apply(this,arguments)}}}
